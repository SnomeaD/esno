#!/usr/bin/env node
'use strict';
const config = require('../config/config.js');

const blizzard = require('blizzard.js').initialize({
  key: config.bnet.key,
  secret: config.bnet.secret,
  origin: "eu"
});
blizzard.getApplicationToken({
  key: config.bnet.key,
  secret: config.bnet.secret,
  origin: "us"
}).then(response => {
    console.log(response.data);
    const theToken = response.data.access_token;
    blizzard.wow.character(['profile'], { origin: 'eu', realm: 'sargeras', name: 'snomead', token: theToken}).then(response => {
        console.log(response.data);
      }).catch(e=> console.log(e.response.statusText));
}).catch(e => console.log(e));
